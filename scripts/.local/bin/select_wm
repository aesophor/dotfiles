#!/usr/bin/env zsh
# dzen2 switch wm script

if pgrep -f "dzen2 -title-name Select WM" > /dev/null; then
    pkill -f "dzen2 -title-name Select WM"
    exit
fi


wm=" i3 Wmderland" # The first char SHOULD be a whitespace!!!
select_wm=`echo -e "Select WM"${wm// /"\n"  setkdewm }`
lines=`echo $select_wm | wc -l`

echo $select_wm | dzen2 \
-title-name 'Select WM' \
-p -x "15" -y "40" -w "150" -h "23" -l $((lines-1)) \
-sa 'l' -ta 'c' -m \
-e 'onstart=uncollapse;button1=menuexec;button3=menuexec' &
